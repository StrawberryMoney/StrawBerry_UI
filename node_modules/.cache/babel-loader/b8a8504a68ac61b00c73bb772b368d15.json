{"ast":null,"code":"import { useCallback, useEffect, useState } from 'react';\nimport useTombFinance from './useTombFinance';\nimport config from '../config';\nimport { BigNumber } from 'ethers';\n\nconst useCashPriceInLastTWAP = () => {\n  const [price, setPrice] = useState(BigNumber.from(0));\n  const tombFinance = useTombFinance();\n  const fetchCashPrice = useCallback(async () => {\n    setPrice(await tombFinance.getBerryPriceInLastTWAP());\n  }, [tombFinance]);\n  useEffect(() => {\n    fetchCashPrice().catch(err => console.error(`Failed to fetch TOMB price: ${err.stack}`));\n    const refreshInterval = setInterval(fetchCashPrice, config.refreshInterval);\n    return () => clearInterval(refreshInterval);\n  }, [setPrice, tombFinance, fetchCashPrice]);\n  return price;\n};\n\nexport default useCashPriceInLastTWAP;","map":{"version":3,"sources":["C:/Users/ali_9/Desktop/StrawBerry_UI/src/hooks/useCashPriceInLastTWAP.ts"],"names":["useCallback","useEffect","useState","useTombFinance","config","BigNumber","useCashPriceInLastTWAP","price","setPrice","from","tombFinance","fetchCashPrice","getBerryPriceInLastTWAP","catch","err","console","error","stack","refreshInterval","setInterval","clearInterval"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,SAAT,QAA0B,QAA1B;;AAEA,MAAMC,sBAAsB,GAAG,MAAM;AACnC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAYG,SAAS,CAACI,IAAV,CAAe,CAAf,CAAZ,CAAlC;AACA,QAAMC,WAAW,GAAGP,cAAc,EAAlC;AAEA,QAAMQ,cAAc,GAAGX,WAAW,CAAC,YAAY;AAC7CQ,IAAAA,QAAQ,CAAC,MAAME,WAAW,CAACE,uBAAZ,EAAP,CAAR;AACD,GAFiC,EAE/B,CAACF,WAAD,CAF+B,CAAlC;AAIAT,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,cAAc,GAAGE,KAAjB,CAAwBC,GAAD,IAASC,OAAO,CAACC,KAAR,CAAe,+BAA8BF,GAAG,CAACG,KAAM,EAAvD,CAAhC;AACA,UAAMC,eAAe,GAAGC,WAAW,CAACR,cAAD,EAAiBP,MAAM,CAACc,eAAxB,CAAnC;AACA,WAAO,MAAME,aAAa,CAACF,eAAD,CAA1B;AACD,GAJQ,EAIN,CAACV,QAAD,EAAWE,WAAX,EAAwBC,cAAxB,CAJM,CAAT;AAMA,SAAOJ,KAAP;AACD,CAfD;;AAiBA,eAAeD,sBAAf","sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport useTombFinance from './useTombFinance';\nimport config from '../config';\nimport { BigNumber } from 'ethers';\n\nconst useCashPriceInLastTWAP = () => {\n  const [price, setPrice] = useState<BigNumber>(BigNumber.from(0));\n  const tombFinance = useTombFinance();\n\n  const fetchCashPrice = useCallback(async () => {\n    setPrice(await tombFinance.getBerryPriceInLastTWAP());\n  }, [tombFinance]);\n\n  useEffect(() => {\n    fetchCashPrice().catch((err) => console.error(`Failed to fetch TOMB price: ${err.stack}`));\n    const refreshInterval = setInterval(fetchCashPrice, config.refreshInterval);\n    return () => clearInterval(refreshInterval);\n  }, [setPrice, tombFinance, fetchCashPrice]);\n\n  return price;\n};\n\nexport default useCashPriceInLastTWAP;\n"]},"metadata":{},"sourceType":"module"}